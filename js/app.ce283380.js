(function(t){function s(s){for(var i,o,c=s[0],r=s[1],l=s[2],p=0,d=[];p<c.length;p++)o=c[p],a[o]&&d.push(a[o][0]),a[o]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);u&&u(s);while(d.length)d.shift()();return n.push.apply(n,l||[]),e()}function e(){for(var t,s=0;s<n.length;s++){for(var e=n[s],i=!0,c=1;c<e.length;c++){var r=e[c];0!==a[r]&&(i=!1)}i&&(n.splice(s--,1),t=o(o.s=e[0]))}return t}var i={},a={app:0},n=[];function o(s){if(i[s])return i[s].exports;var e=i[s]={i:s,l:!1,exports:{}};return t[s].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=i,o.d=function(t,s,e){o.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,s){if(1&s&&(t=o(t)),8&s)return t;if(4&s&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var i in t)o.d(e,i,function(s){return t[s]}.bind(null,i));return e},o.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(s,"a",s),s},o.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=s,c=c.slice();for(var l=0;l<c.length;l++)s(c[l]);var u=r;n.push([0,"chunk-vendors"]),e()})({0:function(t,s,e){t.exports=e("56d7")},"034f":function(t,s,e){"use strict";var i=e("64a9"),a=e.n(i);a.a},"0c7b":function(t,s,e){t.exports=e.p+"img/anonymity.3f9b695b.png"},"0d9e":function(t,s,e){},"0e04":function(t,s,e){},"1c98":function(t,s,e){},2011:function(t,s,e){},"34dd":function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAA45JREFUSA3FVktIVUEY/ubeaz4ooSLIinBRQpG7giyjom5PrbAgpE3RQyFcGBG16kGQErRyEQXVooho47OHCEmF0KaiRRRGEBYVCZk9UK86ff/c1zmnM8d7ddHA3Pmf8/3zn/n/ucB/GmoiXN2CfdCop91SKHwn3YYcnFHb8WUi3yB9ILBuxkU6H/fZ4DMiKFcVeO/UMch55LeonbjmlPvRVmDdhnKM4Ymfk5EpdBEgKrRuRTUzcYBzg9GFMUNV4o+hLT8hixwYR41VJwqN9foRphsbjbPkJQjZT+YyIw/4sQMDxQF+ogrjF797fHxMrPFFIdfF+zBBwO7NvM6KZwzjTUJc5FJr/HbxPkwQ8E0f+7RI46nahkF9D4UMoSStIDWOTy7eh0kBa40Qb2WUs0n3IJ8Xp4Nf67qPj4gGeNqDRjeCOq6pfVhyvfT9anQBP8aBYOfQij5G3sl5FN9w3vhU4hA3quN8a3jFm6pwF9NQylvby5u/mPwJ1/4awZlKGEfMqpHPVWowPjSOMRj5TqcZfRPXJqY0F1sRU4qJ5NDtWMJy62KghcKbodCPPFxOskGrqWNuMpObvOQmC13GCq/JX+BmndjEPHQzwYMo5Sn3E76Wumku+zB2MBNtLpmFSTUQNoEVBO7mLLDYxgg4Rn2er17hCrMTXPsOxxSwyAi+kifpIDnLYZMZKeWl2b8VnnO2saXelltvc3YBi5F+gCIM87tqVNmcMpQPMIBLmI8GtRwxr88/wEkDPhDyGh0hv45BSIfKSeqyWiUDEVTxNfvg9LMCJ41Y3wotLCFgd1KW9arwjuBrnE9puvBtu7Wi0RdU4bHJiGIthzGH9FzOCs6rtHenVmMRRvHQdLkETuCJ2SDKeI97XDFJrYZwmGXT7JI7GH0fxbwntyha5RAL2ah24aQQwcDNBrRMDBNDLsxals2rpMC2moYTQzvvx8aUjcIQi7FEbUafNdXmtOCJnSOM2kxAxYWlNMzMVDPQ9F8k6QFDOCV6KzDreY8YpIbCM6b3TorPgKB9P80aHKZjpGcLbwfWbCbOobMDTbkW4AbpHiLVsyAXMGN7RRd/JITyDsU3VjuEEd7iSQwVxQ+6rfa62k8MT89W+Ol1ngpvB9aeWsTE/6OyCcQODHYb5xj1fHOnbhJ0EPALz35RDz8l1g4cYvHHxwhrsYVkRn9pphSNOEvn4ftcw2cy+7c5A/S/VQ3d8K/cFV8AAAAASUVORK5CYII="},5193:function(t,s,e){},5466:function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAk5JREFUSA3NlktIVUEYx82KUKQoQk2KRGpRCyHCMGh7V9JjF1GrINwI1Tpy0SoKQSGiWrRxpRS4aJWrgsJFkS2C0DZBj4VIRKTY098/ZnD8nHvOjFzDD37MfO+5M3POuXV161zOsr4XMAcf4Q60wprKTar/jfAJW0ekcxu28xF7lukY0bGm3jYeVDvD/DH8djQGvuzpMBm+SWz8hb/JVZ0ysUecPTrUR61LxvalaXS2EetB5/lgIrYYfZla1tgWW5aMol1464y7jPO70bPUHqJjW+xtT121rYw6W2/X2OJ8SYN2oAK3oMFl3GcMC/r5F+z7XcwVE6PzTpZrROoZ9YUHXKYW0wfaUvm0haOwGyRq/hV8nsZ+SJbY86rFbAgq6MJoIV4OMAkXq6Yz0OwDUsbtBL2HcOWav4FzoGJaxCY4BEOwADb+OLZs6SJDW2mLef0HvvkC/118q5ZuMmfBN8sZ/5CnV+kj6AXd9izRM/kQcprGYnXzr8JmyBK9lQZhErTNseIptpfk7oVs0aV6AClNqsVMk5/9Kb1RpekT7BdgH+wEva30trsHsR16jT353I8SbH+FntVTUCTtOJ+Bzb1elBT6nptkXZjOMKBgrheOvtlhcz2Oewpy/rliv/Z0WZLx6wg+Q9j8tolZoQ6YhIkVEWmGi0Ed/XkYKUuzZ3S5LKGKfxt21boESTdblyjcosPoNZHwSxMr2GiM34y+arWs8U9TWbe0JlLW+J3pog9ITaSs8SvTpWL0NVNPUlmXawHG4AT8F9GZ9sKOWndbBAGG/KViy0YYAAAAAElFTkSuQmCC"},"547a":function(t,s,e){},"56d7":function(t,s,e){"use strict";e.r(s);e("cadf"),e("551c"),e("f751"),e("097d");var i=e("2b0e"),a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"app"}},[e("app-header",{attrs:{poiInfo:t.poiInfo}}),e("app-nav",{attrs:{commentNum:t.commentNum}}),e("keep-alive",[e("router-view")],1)],1)},n=[],o=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"header"},[t._m(0),e("div",{staticClass:"content-wrapper"},[e("div",{staticClass:"icon",style:t.head_bg}),e("div",{staticClass:"name"},[e("h3",[t._v(t._s(t.poiInfo.name))])]),t._m(1)]),e("div",{staticClass:"bulletin-wrapper"},[t.poiInfo.discounts2?e("img",{staticClass:"icon",attrs:{src:t.poiInfo.discounts2[0].icon_url,alt:"discount-icon"}}):t._e(),t.poiInfo.discounts2?e("span",{staticClass:"text"},[t._v(t._s(t.poiInfo.discounts2[0].info))]):t._e(),t.poiInfo.discounts2?e("div",{staticClass:"detail",on:{click:t.showBulletin}},[t._v("\n      "+t._s(t.poiInfo.discounts2.length)+"个活动\n      "),e("span",{staticClass:"icon-keyboard_arrow_right"})]):t._e()]),e("transition",{attrs:{name:"bulletin-detail"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"bulletin-detail"},[e("div",{staticClass:"detail-wrapper"},[e("div",{staticClass:"main-wrapper",style:t.detail_bg},[e("div",{staticClass:"icon",style:t.head_bg}),e("h3",{staticClass:"name"},[t._v(t._s(t.poiInfo.name))]),e("div",{staticClass:"score"},[e("app-star",{attrs:{score:t.poiInfo.wm_poi_score}}),e("span",[t._v(t._s(t.poiInfo.wm_poi_score))])],1),e("p",{staticClass:"tip"},[t._v("\n            "+t._s(t.poiInfo.min_price_tip)+"\n            "),e("i",[t._v("|")]),t._v("\n            "+t._s(t.poiInfo.shipping_fee_tip)+"\n            "),e("i",[t._v("|")]),t._v("\n            "+t._s(t.poiInfo.delivery_time_tip)+"\n          ")]),e("p",{staticClass:"time"},[t._v("配送时间："+t._s(t.poiInfo.shipping_time))]),t.poiInfo.discounts2?e("div",{staticClass:"discounts"},[e("p",[e("img",{attrs:{src:t.poiInfo.discounts2[0].icon_url,alt:""}}),e("span",[t._v(t._s(t.poiInfo.discounts2[0].info))])])]):t._e()]),e("div",{staticClass:"close-wrapper"},[e("span",{staticClass:"icon-close",on:{click:t.closeBulletin}})])])])]),e("div",{staticClass:"bg-wrapper",style:t.head_pic_url})],1)},c=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"top-wrapper"},[e("div",{staticClass:"back-wrapper"},[e("span",{staticClass:"icon-arrow_lift"})]),e("form",{staticClass:"search-wrapper"},[e("span",{staticClass:"search-icon"}),e("input",{staticClass:"search-bar",attrs:{type:"text",placeholder:"搜索店内商品"}})]),e("div",{staticClass:"more-wrapper"},[e("a",{staticClass:"spelling-btn",attrs:{href:"#"}},[t._v("拼单")]),e("div",{staticClass:"more-btn"},[e("i",{staticClass:"s-radius"}),e("i",{staticClass:"s-radius"}),e("i",{staticClass:"s-radius"})])])])},function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"collect"},[i("img",{attrs:{src:e("b305"),alt:"store-logo"}}),i("span",[t._v("收藏")])])}],r=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"star"},t._l(t.itemClasses,function(t,s){return e("span",{key:s,staticClass:"star-item",class:t})}),0)},l=[],u=(e("c5f6"),5),p="on",d="half",f="off",v={props:{score:{type:Number}},computed:{itemClasses:function(){for(var t=[],s=Math.floor(2*this.score)/2,e=s%1!==0,i=Math.floor(s),a=0;a<i;a++)t.push(p);e&&t.push(d);while(t.length<u)t.push(f);return t}}},h=v,_=(e("7709"),e("2877")),m=Object(_["a"])(h,r,l,!1,null,"5266b1b2",null),C=m.exports,g={data:function(){return{isShow:!1}},components:{"app-star":C},computed:{head_pic_url:function(){return"background-image: url("+this.poiInfo.head_pic_url+");"},head_bg:function(){return"background-image: url("+this.poiInfo.pic_url+");"},detail_bg:function(){return"background-image: url("+this.poiInfo.poi_back_pic_url+");"}},methods:{showBulletin:function(){this.isShow=!0},closeBulletin:function(){this.isShow=!1}},props:{poiInfo:{type:Object,default:{}}}},w=g,b=(e("c415"),Object(_["a"])(w,o,c,!1,null,"435cb418",null)),y=b.exports,x=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"nav"},[e("router-link",{staticClass:"nav-item",attrs:{to:"/goods"}},[t._v("\n    菜单\n    "),e("i",{staticClass:"line"})]),e("router-link",{staticClass:"nav-item",attrs:{to:"/ratings"}},[t._v("\n    评价("+t._s(t.commentNum)+")\n    "),e("i",{staticClass:"line"})]),e("router-link",{staticClass:"nav-item",attrs:{to:"/seller"}},[t._v("\n    商家\n    "),e("i",{staticClass:"line"})])],1)},k=[],A={props:{commentNum:{type:Number,default:0}}},S=A,I=(e("d5e1"),Object(_["a"])(S,x,k,!1,null,"583552fc",null)),O=I.exports,M={name:"app",components:{"app-header":y,"app-nav":O},data:function(){return{poiInfo:{},commentNum:0}},created:function(){var t=this;fetch("/mock/goods.json").then(function(t){return t.json()}).then(function(s){0==s.code&&(t.poiInfo=s.data.poi_info)}),fetch("/mock/ratings.json").then(function(t){return t.json()}).then(function(s){0==s.code&&(t.commentNum=s.data.comment_num)})}},E=M,j=(e("034f"),Object(_["a"])(E,a,n,!1,null,null,null)),F=j.exports,N=e("66e7"),T=e("facc"),V=e.n(T),Y=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"goods"},[e("div",{ref:"menuScroll",staticClass:"menu-wrapper"},[e("ul",[e("li",{staticClass:"menu-item",class:{current:0===t.currentIndex},on:{touchend:function(s){return t.selectMenu(0)}}},[e("p",{staticClass:"text"},[t.container.tag_icon?e("img",{staticClass:"icon",attrs:{src:t.container.tag_icon}}):t._e(),t._v("\n          "+t._s(t.container.tag_name)+"\n        ")])]),t._l(t.goods,function(s,i){return e("li",{key:i,staticClass:"menu-item",class:{current:t.currentIndex===i+1},on:{touchend:function(s){return t.selectMenu(i+1)}}},[e("p",{staticClass:"text"},[s.icon?e("img",{staticClass:"icon",attrs:{src:s.icon}}):t._e(),t._v("\n          "+t._s(s.name)+"\n        ")]),e("i",{directives:[{name:"show",rawName:"v-show",value:t.calculateCount(s.spus),expression:"calculateCount(item.spus)"}],staticClass:"num"},[t._v(t._s(t.calculateCount(s.spus)))])])})],2)]),e("div",{ref:"foodScroll",staticClass:"foods-wrapper"},[e("ul",[e("li",{staticClass:"container-list food-list-hook"},t._l(t.container.operation_source_list,function(t,s){return e("div",{key:s},[e("img",{attrs:{src:t.pic_url}})])}),0),t._l(t.goods,function(s,i){return e("li",{key:i,staticClass:"food-list food-list-hook"},[e("h3",{staticClass:"title"},[t._v(t._s(s.name))]),e("ul",t._l(s.spus,function(s,i){return e("li",{key:i,staticClass:"food-item",on:{touchend:function(e){return t.showDetail(s)}}},[e("div",{staticClass:"icon",style:t.head_bg(s.picture)}),e("div",{staticClass:"content"},[e("h3",{staticClass:"name"},[t._v(t._s(s.name))]),s.description?e("p",{staticClass:"desc"},[t._v(t._s(s.description))]):t._e(),e("div",{staticClass:"extra"},[e("span",{staticClass:"saled"},[t._v(t._s(s.month_saled_content))]),e("span",{staticClass:"praise"},[t._v(t._s(s.praise_content))])]),e("img",{staticClass:"product",attrs:{src:s.product_label_picture}}),e("p",{staticClass:"price"},[e("span",{staticClass:"text"},[t._v("¥"+t._s(s.min_price))]),e("span",{staticClass:"unit"},[t._v("/"+t._s(s.unit))])])]),e("div",{staticClass:"cartcontrol-wrapper"},[e("app-cart-control",{attrs:{food:s}})],1)])}),0)])})],2)]),e("app-shopcart",{attrs:{poiInfo:t.poiInfo,selectFoods:t.selectFoods}}),e("app-product-detail",{ref:"foodView",attrs:{food:t.selectFood}})],1)},B=[],R=(e("ac6a"),e("ecd2")),D=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"shopcart",class:{highlight:t.totalCount>0}},[i("div",{staticClass:"shopcart-wrapper"},[i("div",{staticClass:"content-left"},[i("div",{staticClass:"logo-wrapper",class:{highlight:t.totalCount>0},on:{touchend:t.toggleList}},[i("span",{staticClass:"icon-shopping_cart logo",class:{highlight:t.totalCount>0}}),i("i",{directives:[{name:"show",rawName:"v-show",value:t.totalCount,expression:"totalCount"}],staticClass:"num"},[t._v(t._s(t.totalCount))])]),i("div",{staticClass:"desc-wrapper"},[i("p",{directives:[{name:"show",rawName:"v-show",value:t.totalPrice,expression:"totalPrice"}],staticClass:"total-price"},[t._v("¥"+t._s(t.totalPrice))]),i("p",{staticClass:"tip",class:{highlight:t.totalCount>0}},[t._v("另需"+t._s(t.poiInfo.shipping_fee_tip))])])]),i("div",{staticClass:"content-right",class:{highlight:t.totalCount>0}},[t._v(t._s(t.payStr))]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.listShow,expression:"listShow"}],staticClass:"shopcart-list",class:{show:t.listShow}},[t.poiInfo.discounts2?i("div",{staticClass:"list-top"},[t._v(t._s(t.poiInfo.discounts2[0].info))]):t._e(),i("div",{staticClass:"list-header"},[i("h3",{staticClass:"title"},[t._v("1号购物袋")]),i("div",{staticClass:"empty",on:{touchstart:t.clearAll}},[i("img",{attrs:{src:e("e157")}}),i("span",[t._v("清空购物车")])])]),i("div",{ref:"listContent",staticClass:"list-content"},[i("ul",t._l(t.selectFoods,function(s,e){return i("li",{key:e,staticClass:"food-item"},[i("div",{staticClass:"desc-wrapper"},[i("div",{staticClass:"desc-left"},[i("p",{staticClass:"name"},[t._v(t._s(s.name))]),i("p",{directives:[{name:"show",rawName:"v-show",value:!s.description,expression:"!food.description"}],staticClass:"unit"},[t._v(t._s(s.unit))]),i("p",{directives:[{name:"show",rawName:"v-show",value:!s.unit,expression:"!food.unit"}],staticClass:"description"},[t._v(t._s(s.description))])]),i("div",{staticClass:"desc-right"},[t._v("¥"+t._s(s.min_price))])]),i("div",{staticClass:"cartcontrol-wrapper"},[i("app-cart-control",{attrs:{food:s}})],1)])}),0)])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.listShow,expression:"listShow"}],staticClass:"shopcart-mask",on:{touchend:t.hideMask}})])},H=[],P=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"cartcontrol"},[e("transition",{attrs:{name:"move"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.food.count,expression:"food.count"}],staticClass:"cart-decrease icon-remove_circle_outline",on:{touchend:function(s){return s.stopPropagation(),s.preventDefault(),t.decreaseCart(s)}}})]),e("transition",{attrs:{name:"count"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.food.count,expression:"food.count"}],staticClass:"cart-count"},[t._v(t._s(t.food.count))])]),e("div",{staticClass:"cart-add icon-add_circle",on:{touchend:function(s){return s.stopPropagation(),s.preventDefault(),t.increaseCart(s)}}},[e("i",{staticClass:"bg"})])],1)},G=[],K={props:{food:{type:Object}},methods:{decreaseCart:function(){this.food.count>0?this.food.count--:this.$delete(this.food,"count")},increaseCart:function(){this.food.count?this.food.count++:this.$set(this.food,"count",1)}}},Q=K,$=(e("dafe"),Object(_["a"])(Q,P,G,!1,null,"5528358e",null)),J=$.exports,U={data:function(){return{fold:!0}},components:{"app-cart-control":J},props:{poiInfo:{type:Object,default:{}},selectFoods:{type:Array,default:function(){return[]}}},methods:{toggleList:function(){this.totalCount&&(this.fold=!this.fold)},clearAll:function(){this.selectFoods.forEach(function(t){t.count=0})},hideMask:function(){this.fold=!0}},computed:{totalCount:function(){var t=0;return this.selectFoods.forEach(function(s){t+=s.count}),t},totalPrice:function(){var t=0;return this.selectFoods.forEach(function(s){t+=s.min_price*s.count}),t},payStr:function(){return this.totalCount>0?"去结算":this.poiInfo.min_price_tip},listShow:function(){var t=this;return this.totalCount?(this.fold||this.$nextTick(function(){t.shopScroll?t.shopScroll.refresh():t.shopScroll=new R["a"](t.$refs.listContent,{touchend:!0})}),!this.fold):(this.fold=!0,!1)}}},W=U,z=(e("9f61"),Object(_["a"])(W,D,H,!1,null,"096b788f",null)),L=z.exports,Z=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("transition",{attrs:{name:"food-detail"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showFlag,expression:"showFlag"}],ref:"foodDetail",staticClass:"food"},[i("div",{staticClass:"food-wrapper"},[i("div",{staticClass:"food-content"},[i("div",{staticClass:"img-wrapper"},[i("img",{staticClass:"food-img",attrs:{src:t.food.picture}}),i("span",{staticClass:"close-bt icon-close",on:{touchend:t.closeView}}),i("img",{staticClass:"share-bt",attrs:{src:e("8a63")}}),i("img",{staticClass:"more-bt",attrs:{src:e("e2c8")}})]),i("div",{staticClass:"content-wrapper"},[i("h3",{staticClass:"name"},[t._v(t._s(t.food.name))]),i("p",{staticClass:"saled"},[t._v(t._s(t.food.month_saled_content))]),i("img",{directives:[{name:"show",rawName:"v-show",value:t.food.product_label_picture,expression:"food.product_label_picture"}],staticClass:"product",attrs:{src:t.food.product_label_picture}}),i("p",{staticClass:"price"},[i("span",{staticClass:"text"},[t._v("¥"+t._s(t.food.min_price))]),i("span",{staticClass:"unit"},[t._v("/"+t._s(t.food.unit))])]),i("div",{staticClass:"cartcontrol-wrapper"},[i("app-cart-control",{attrs:{food:t.food}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.food.count||0==t.food.count,expression:"!food.count || food.count == 0"}],staticClass:"buy",on:{touchend:t.addFood}},[t._v("选规格")])])]),i("app-split"),t.food.rating?i("div",{staticClass:"rating-wrapper"},[i("div",{staticClass:"rating-title"},[i("div",{staticClass:"like-ratio"},[i("span",{staticClass:"title"},[t._v(t._s(t.food.rating.title))]),i("span",{staticClass:"ratio"},[t._v("\n              (\n              "+t._s(t.food.rating.like_ratio_desc)+"\n              "),i("i",[t._v(t._s(t.food.rating.like_ratio))]),t._v("\n              )\n            ")])]),i("div",{staticClass:"snd-title"},[i("span",{staticClass:"text"},[t._v(t._s(t.food.rating.snd_title))]),i("span",{staticClass:"icon icon-keyboard_arrow_right"})])]),i("ul",{staticClass:"rating-content"},t._l(t.food.rating.comment_list,function(s,a){return i("li",{key:a,staticClass:"comment-item"},[i("div",{staticClass:"comment-header"},[s.user_icon?i("img",{attrs:{src:s.user_icon}}):t._e(),s.user_icon?t._e():i("img",{attrs:{src:e("6d79")}})]),i("div",{staticClass:"comment-main"},[i("div",{staticClass:"user"},[t._v(t._s(s.user_name))]),i("div",{staticClass:"time"},[t._v(t._s(s.comment_time))]),i("div",{staticClass:"content"},[t._v(t._s(s.comment_content))])])])}),0)]):t._e()],1)])])},X=[],q=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"split"})},tt=[],st={},et=st,it=(e("8e7a"),Object(_["a"])(et,q,tt,!1,null,"f0397e06",null)),at=it.exports,nt={data:function(){return{showFlag:!1}},components:{"app-cart-control":J,"app-split":at},props:{food:{type:Object}},methods:{showView:function(){var t=this;this.showFlag=!0,this.$nextTick(function(){t.scroll?t.scroll.refresh():t.scroll=new R["a"](t.$refs.foodDetail,{touchend:!0})})},closeView:function(){this.showFlag=!1},addFood:function(){this.$set(this.food,"count",1)}}},ot=nt,ct=(e("8a7a"),Object(_["a"])(ot,Z,X,!1,null,"2c695768",null)),rt=ct.exports,lt={data:function(){return{container:{},goods:[],poiInfo:{},listHeight:[],menuScroll:{},foodScroll:{},scrollY:0,selectFood:{}}},components:{"app-shopcart":L,"app-cart-control":J,"app-product-detail":rt},methods:{head_bg:function(t){return"background-image: url("+t+");"},initScroll:function(){var t=this;this.menuScroll=new R["a"](this.$refs.menuScroll,{touchend:!0}),this.foodScroll=new R["a"](this.$refs.foodScroll,{probeType:3,touchend:!0}),this.foodScroll.on("scroll",function(s){t.scrollY=Math.abs(Math.round(s.y))})},calculateHeight:function(){var t=this.$refs.foodScroll.getElementsByClassName("food-list-hook"),s=0;this.listHeight.push(s);for(var e=0;e<t.length;e++){var i=t[e];s+=i.clientHeight,this.listHeight.push(s)}},selectMenu:function(t){var s=this.$refs.foodScroll.getElementsByClassName("food-list-hook"),e=s[t];this.foodScroll.scrollToElement(e,250)},calculateCount:function(t){var s=0;return t.forEach(function(t){t.count>0&&(s+=t.count)}),s},showDetail:function(t){this.selectFood=t,this.$refs.foodView.showView()}},computed:{currentIndex:function(){for(var t=0;t<this.listHeight.length;t++){this.listHeight[t];var s=this.listHeight[t+1];if(!s||this.scrollY>=this.listHeight[t]&&this.scrollY<this.listHeight[t+1])return t}return 0},selectFoods:function(){var t=[];return this.goods.forEach(function(s){s.spus.forEach(function(s){s.count>0&&t.push(s)})}),t}},created:function(){var t=this;fetch("/mock/goods.json").then(function(t){return t.json()}).then(function(s){0==s.code&&(t.container=s.data.container_operation_source,t.goods=s.data.food_spu_tags,t.poiInfo=s.data.poi_info,t.$nextTick(function(){t.initScroll(),t.calculateHeight()}))})}},ut=lt,pt=(e("b34c"),Object(_["a"])(ut,Y,B,!1,null,"7b2e8b07",null)),dt=pt.exports,ft=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{ref:"ratingView",staticClass:"ratings"},[i("div",{staticClass:"ratings-wrapper"},[i("div",{staticClass:"overview"},[i("div",{staticClass:"overview-left"},[i("div",{staticClass:"comment-score"},[i("p",{staticClass:"score"},[t._v(t._s(t.ratings.comment_score))]),i("p",{staticClass:"text"},[t._v("商家评分")])]),i("div",{staticClass:"other-score"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.ratings.food_score,expression:"ratings.food_score"}],staticClass:"quality-score item"},[i("span",{staticClass:"text"},[t._v("口味")]),i("app-star",{staticClass:"star",attrs:{score:t.ratings.food_score}}),i("span",{staticClass:"score"},[t._v(t._s(t.ratings.food_score))])],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.ratings.pack_score,expression:"ratings.pack_score"}],staticClass:"pack-score"},[i("span",{staticClass:"text"},[t._v("包装")]),i("app-star",{staticClass:"star",attrs:{score:t.ratings.pack_score}}),i("span",{staticClass:"score"},[t._v(t._s(t.ratings.pack_score))])],1)])]),i("div",{staticClass:"overview-right"},[i("div",{staticClass:"delivery-score"},[i("p",{staticClass:"score"},[t._v(t._s(t.ratings.delivery_score))]),i("p",{staticClass:"text"},[t._v("配送评分")])])])]),i("app-split"),i("div",{staticClass:"content"},[t.ratings.tab?i("div",{staticClass:"rating-select"},[i("span",{staticClass:"item",class:{active:2==t.selectType},on:{touchstart:function(s){return t.selectTypeFn(2)}}},[t._v(t._s(t.ratings.tab[0].comment_score_title))]),i("span",{staticClass:"item",class:{active:1==t.selectType},on:{touchstart:function(s){return t.selectTypeFn(1)}}},[t._v(t._s(t.ratings.tab[1].comment_score_title))]),i("span",{staticClass:"item",class:{active:0==t.selectType},on:{touchstart:function(s){return t.selectTypeFn(0)}}},[0!=t.selectType?i("img",{attrs:{src:e("34dd")}}):t._e(),0==t.selectType?i("img",{attrs:{src:e("5466")}}):t._e(),t._v("\n          "+t._s(t.ratings.tab[2].comment_score_title)+"\n        ")])]):t._e(),i("div",{staticClass:"labels-view"},t._l(t.ratings.labels,function(s,e){return i("span",{key:e,staticClass:"item",class:{highlight:s.label_star>0}},[t._v(t._s(s.content)+" "+t._s(s.label_count))])}),0),i("ul",{staticClass:"rating-list"},t._l(t.selectComments,function(s,a){return i("li",{key:a,staticClass:"comment-item"},[i("div",{staticClass:"comment-header"},[s.user_pic_url?i("img",{attrs:{src:s.user_pic_url}}):t._e(),s.user_pic_url?t._e():i("img",{attrs:{src:e("0c7b")}})]),i("div",{staticClass:"comment-main"},[i("div",{staticClass:"user"},[t._v(t._s(s.user_name))]),i("div",{staticClass:"time"},[t._v(t._s(t.formatDate(s.comment_time)))]),i("div",{staticClass:"star-wrapper"},[i("app-star",{attrs:{score:s.order_comment_score}})],1),i("div",{staticClass:"c_content"},[t._v(t._s(s.comment))]),s.comment_pics.length>0?i("div",{staticClass:"img-wrapper"},t._l(s.comment_pics,function(t,e){return i("div",{key:e,class:{multiPics:s.comment_pics.length>1}},[i("img",{attrs:{src:t.url}})])}),0):t._e()])])}),0)])],1)])},vt=[],ht=(e("3b2b"),e("a481"),e("6b54"),2),_t=1,mt={data:function(){return{ratings:{},selectType:ht}},computed:{selectComments:function(){if(this.selectType==ht)return this.ratings.comments;if(this.selectType==_t){var t=[];return this.ratings.comments.forEach(function(s){s.comment_pics.length>0&&t.push(s)}),t}return this.ratings.comments_dp.comments}},components:{"app-split":at,"app-star":C},methods:{selectTypeFn:function(t){this.selectType=t},formatDate:function(t){var s=new Date(1e3*t),e="yyyy.MM.dd";if(/(y+)/.test(e)){var i=s.getFullYear().toString();e=e.replace(RegExp.$1,i)}if(/(M+)/.test(e)){var a=s.getMonth()+1;a<10&&(a="0"+a),e=e.replace(RegExp.$1,a)}if(/(d+)/.test(e)){var n=s.getDate();n<10&&(n="0"+n),e=e.replace(RegExp.$1,n)}return e}},created:function(){var t=this;fetch("/mock/ratings.json").then(function(t){return t.json()}).then(function(s){0==s.code&&(t.ratings=s.data,t.$nextTick(function(){t.scroll?t.scroll.refresh():t.scroll=new R["a"](t.$refs.ratingView,{touchend:!0})}))})}},Ct=mt,gt=(e("ee69"),Object(_["a"])(Ct,ft,vt,!1,null,"d9a22566",null)),wt=gt.exports,bt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{ref:"sellerView",staticClass:"seller"},[e("div",{staticClass:"seller-wrapper"},[e("app-split"),e("div",{staticClass:"seller-view"},[e("div",{staticClass:"address-wrapper"},[e("div",{staticClass:"address-left"},[t._v(t._s(t.seller.address))]),t._m(0)]),e("div",{ref:"picsView",staticClass:"pics-wrapper"},[t.seller.poi_env?e("ul",{ref:"picsList",staticClass:"pics-list"},t._l(t.seller.poi_env.thumbnails_url_list,function(t,s){return e("li",{key:s,ref:"picsItem",refInFor:!0,staticClass:"pics-item"},[e("img",{attrs:{src:t}})])}),0):t._e()]),t._m(1)]),e("app-split"),e("div",{staticClass:"tip-view"},[e("div",{staticClass:"delivery-wrapper"},[t._v("配送服务："+t._s(t.seller.app_delivery_tip))]),e("div",{staticClass:"shipping-time"},[t._v("配送时间： "+t._s(t.seller.shipping_time))])]),e("app-split"),e("div",{staticClass:"other-view"},[e("div",{staticClass:"server-wrapper"},[t._v("\n        商家服务\n        "),t._l(t.seller.poi_service,function(s,i){return e("div",{key:i,staticClass:"poi-server"},[e("img",{attrs:{src:s.icon}}),t._v("\n          "+t._s(s.content)+"\n        ")])})],2),e("div",{staticClass:"discounts-wrapper"},t._l(t.seller.discounts2,function(s,i){return e("div",{key:i,staticClass:"discount-item"},[e("div",{staticClass:"icon"},[e("img",{attrs:{src:s.icon_url}})]),e("div",{staticClass:"text"},[t._v(t._s(s.info))])])}),0)])],1)])},yt=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"address-right"},[e("div",{staticClass:"content"})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"safety-wrapper"},[t._v("\n        查看食品安全档案\n        "),e("span",{staticClass:"icon-keyboard_arrow_right"})])}],xt={data:function(){return{seller:{}}},components:{"app-split":at},created:function(){var t=this;fetch("/mock/seller.json").then(function(t){return t.json()}).then(function(s){0==s.code&&(t.seller=s.data),t.$nextTick(function(){if(t.scorllY?t.scrollY.refresh():t.scrollY=new R["a"](t.$refs.sellerView,{touchend:!0}),t.seller.poi_env.thumbnails_url_list){var s=t.$refs.picsItem[0].clientWidth,e=11,i=(s+e)*t.seller.poi_env.thumbnails_url_list.length;t.$refs.picsList.style.width=i+"px",t.scrollX_pics=new R["a"](t.$refs.picsView,{scrollX:!0})}})})}},kt=xt,At=(e("79ec"),Object(_["a"])(kt,bt,yt,!1,null,"91720dac",null)),St=At.exports;i["a"].config.productionTip=!1,i["a"].use(N["a"]),i["a"].use(V.a);var It=[{path:"/",redirect:"/goods"},{path:"/goods",component:dt},{path:"/ratings",component:wt},{path:"/seller",component:St}],Ot=new N["a"]({routes:It,linkActiveClass:"active"});new i["a"]({router:Ot,render:function(t){return t(F)}}).$mount("#app")},"64a9":function(t,s,e){},"6d79":function(t,s,e){t.exports=e.p+"img/anonymity.3f9b695b.png"},7709:function(t,s,e){"use strict";var i=e("5193"),a=e.n(i);a.a},"79ec":function(t,s,e){"use strict";var i=e("2011"),a=e.n(i);a.a},"846b":function(t,s,e){},"8a63":function(t,s,e){t.exports=e.p+"img/share.03cb918d.png"},"8a7a":function(t,s,e){"use strict";var i=e("0d9e"),a=e.n(i);a.a},"8e7a":function(t,s,e){"use strict";var i=e("846b"),a=e.n(i);a.a},"948c":function(t,s,e){},"9f61":function(t,s,e){"use strict";var i=e("ec91"),a=e.n(i);a.a},b305:function(t,s,e){t.exports=e.p+"img/star.ce71dba7.png"},b34c:function(t,s,e){"use strict";var i=e("1c98"),a=e.n(i);a.a},bc6b:function(t,s,e){},c415:function(t,s,e){"use strict";var i=e("0e04"),a=e.n(i);a.a},d5e1:function(t,s,e){"use strict";var i=e("948c"),a=e.n(i);a.a},dafe:function(t,s,e){"use strict";var i=e("547a"),a=e.n(i);a.a},e157:function(t,s,e){t.exports=e.p+"img/ash_bin.f1cf592f.png"},e2c8:function(t,s,e){t.exports=e.p+"img/more.928cbe99.png"},ec91:function(t,s,e){},ee69:function(t,s,e){"use strict";var i=e("bc6b"),a=e.n(i);a.a}});
//# sourceMappingURL=app.ce283380.js.map